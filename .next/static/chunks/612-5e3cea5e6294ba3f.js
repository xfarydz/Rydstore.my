"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{3612:function(e,s,r){r.d(s,{Z:function(){return u}});var a=r(7821),t=r(8078),l=r(3116),o=r(9198),n=r(4811),d=r(20),i=r(6323),c=r(534),b=r(2348),m=r(6492);function u(){let{showAuthModal:e,setShowAuthModal:s,login:r,register:u,resetPassword:x}=(0,m.a)(),[p,h]=(0,t.useState)("login"),[g,w]=(0,t.useState)(!1),[f,y]=(0,t.useState)({name:"",email:"",phone:"",password:"",confirmPassword:""}),[N,j]=(0,t.useState)(""),[k,v]=(0,t.useState)(!1);if(!e)return null;let C=async e=>{e.preventDefault(),j(""),v(!0);try{let e=!1;if("login"===p)(e=await r(f.email,f.password))||j("Invalid email or password");else if("register"===p){if(!f.name||!f.phone){j("Please fill in all fields"),v(!1);return}(e=await u(f.name,f.email,f.phone,f.password))||j("Email already exists")}else if("forgot-password"===p){if(JSON.parse(localStorage.getItem("registeredUsers")||"[]").some(e=>e.email===f.email)){h("reset-password"),y({...f,password:"",confirmPassword:""}),j(""),v(!1);return}j("Email not found in our system")}else if("reset-password"===p){if(f.password!==f.confirmPassword){j("Passwords do not match"),v(!1);return}if(f.password.length<6){j("Password must be at least 6 characters"),v(!1);return}(e=await x(f.email,f.password))||j("Failed to reset password")}e&&(s(!1),h("login"),y({name:"",email:"",phone:"",password:"",confirmPassword:""}))}catch(e){j("An error occurred. Please try again.")}v(!1)},P=e=>{h(e),j(""),y({name:"",email:"",phone:"",password:"",confirmPassword:""})};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border-4 border-black",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 bg-black text-white rounded-t-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"login"===p?"Welcome Back":"register"===p?"Create Account":"forgot-password"===p?"Reset Password":"New Password"}),(0,a.jsx)("button",{onClick:()=>{s(!1),h("login")},className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})})]}),(0,a.jsxs)("form",{onSubmit:C,className:"p-6 space-y-4",children:[N&&(0,a.jsx)("div",{className:"bg-black text-white px-4 py-3 rounded-lg text-sm border-2 border-gray-300",children:N}),"register"===p&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:"text",value:f.name,onChange:e=>y({...f,name:e.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Enter your full name",required:"register"===p})]})]}),("login"===p||"register"===p||"forgot-password"===p||"reset-password"===p)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:"email",value:f.email,onChange:e=>y({...f,email:e.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Enter your email",required:!0,disabled:"reset-password"===p})]})]}),"register"===p&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black mb-2",children:"Phone Number"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:"tel",value:f.phone,onChange:e=>y({...f,phone:e.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Enter your phone number",required:"register"===p})]})]}),("login"===p||"register"===p)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:g?"text":"password",value:f.password,onChange:e=>y({...f,password:e.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Enter your password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-black hover:text-gray-600",children:g?(0,a.jsx)(c.Z,{className:"w-5 h-5"}):(0,a.jsx)(b.Z,{className:"w-5 h-5"})})]})]}),"reset-password"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black mb-2",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:g?"text":"password",value:f.password,onChange:e=>y({...f,password:e.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Enter new password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-black hover:text-gray-600",children:g?(0,a.jsx)(c.Z,{className:"w-5 h-5"}):(0,a.jsx)(b.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black mb-2",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),(0,a.jsx)("input",{type:g?"text":"password",value:f.confirmPassword,onChange:e=>y({...f,confirmPassword:e.target.value}),className:"w-full pl-10 pr-12 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-gray-600 bg-white",placeholder:"Confirm new password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-black hover:text-gray-600",children:g?(0,a.jsx)(c.Z,{className:"w-5 h-5"}):(0,a.jsx)(b.Z,{className:"w-5 h-5"})})]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"w-full bg-black text-white py-4 rounded-lg font-bold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all border-2 border-black text-lg",children:k?"Please wait...":"login"===p?"● SIGN IN ●":"register"===p?"● CREATE ACCOUNT ●":"forgot-password"===p?"● VERIFY EMAIL ●":"● RESET PASSWORD ●"})]}),(0,a.jsxs)("div",{className:"px-6 pb-6 text-center border-t-2 border-black pt-4 bg-gray-50 space-y-2",children:["login"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-black font-medium",children:["Don't have an account?",(0,a.jsx)("button",{onClick:()=>P("register"),className:"ml-2 text-black font-bold hover:bg-black hover:text-white px-3 py-1 rounded transition-all border border-black",children:"SIGN UP"})]}),(0,a.jsx)("p",{className:"text-sm",children:(0,a.jsx)("button",{onClick:()=>P("forgot-password"),className:"text-gray-600 hover:text-black font-semibold underline",children:"Forgot password?"})})]}),"register"===p&&(0,a.jsxs)("p",{className:"text-black font-medium",children:["Already have an account?",(0,a.jsx)("button",{onClick:()=>P("login"),className:"ml-2 text-black font-bold hover:bg-black hover:text-white px-3 py-1 rounded transition-all border border-black",children:"SIGN IN"})]}),("forgot-password"===p||"reset-password"===p)&&(0,a.jsx)("p",{className:"text-black font-medium",children:(0,a.jsx)("button",{onClick:()=>P("login"),className:"text-black font-bold hover:bg-black hover:text-white px-3 py-1 rounded transition-all border border-black",children:"← BACK TO LOGIN"})})]})]})})}}}]);