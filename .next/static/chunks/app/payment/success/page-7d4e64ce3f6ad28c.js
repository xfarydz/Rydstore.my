(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{1651:function(e,s,r){Promise.resolve().then(r.bind(r,2489))},2489:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m},dynamic:function(){return d}});var t=r(7821),n=r(8078),a=r(8504),l=r(4542),i=r(2531),c=r(3955),o=r(8620);let d="force-dynamic";function u(){let e=(0,a.useSearchParams)(),[s,r]=(0,n.useState)("loading"),[d,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let s=e.get("status_id"),t=e.get("billcode"),n=e.get("order_id"),a=e.get("amount"),l=e.get("reason");console.log("\uD83D\uDCC4 Payment return page loaded with params:",{status_id:s,billcode:t,order_id:n,amount:a,reason:l}),u({status_id:s,billcode:t,order_id:n,amount:a,reason:l}),"1"===s?(r("success"),console.log("✅ Payment successful")):(r("failed"),console.log("❌ Payment failed:",l))},[e]),"loading"===s)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Processing payment..."}),(0,t.jsx)("p",{className:"text-gray-600",children:"Please wait while we confirm your payment"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:["success"===s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(i.Z,{className:"w-20 h-20 text-green-500 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Your payment has been processed successfully via ToyyibPay."})]}),(0,t.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 mb-6 text-left",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"Payment Details"}),(0,t.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(null==d?void 0:d.order_id)&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Order ID:"})," ",d.order_id]}),(null==d?void 0:d.billcode)&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Bill Code:"})," ",d.billcode]}),(null==d?void 0:d.amount)&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Amount:"})," RM",(parseInt(d.amount)/100).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(l.default,{href:"/",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors inline-block",children:"Continue Shopping"}),(0,t.jsx)(l.default,{href:"/my-purchases",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded-lg transition-colors inline-block",children:"View My Purchases"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(c.Z,{className:"w-20 h-20 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Unfortunately, your payment could not be processed."})]}),(0,t.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 mb-6 text-left",children:[(0,t.jsx)("h3",{className:"font-semibold text-red-800 mb-2",children:"Error Details"}),(0,t.jsxs)("div",{className:"text-sm text-red-700 space-y-1",children:[(null==d?void 0:d.reason)&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Reason:"})," ",d.reason]}),(null==d?void 0:d.order_id)&&(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Order ID:"})," ",d.order_id]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>window.history.back(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 inline mr-2"}),"Try Again"]}),(0,t.jsx)(l.default,{href:"/",className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded-lg transition-colors inline-block",children:"Return to Home"})]})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["\uD83C\uDFAF Powered by ",(0,t.jsx)("strong",{children:"ToyyibPay"})," - Secure Malaysian Payment Gateway"]})})]})})}function m(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Processing payment..."}),(0,t.jsx)("p",{className:"text-gray-600",children:"Please wait while we confirm your payment"})]})}),children:(0,t.jsx)(u,{})})}},8322:function(e,s,r){"use strict";r.d(s,{Z:function(){return l}});var t=r(8078),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let r=(0,t.forwardRef)((r,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=r;return(0,t.createElement)("svg",{ref:l,...n,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(a(e)),u].join(" "),...x},[...s.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},2531:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(8322).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3955:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(8322).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8504:function(e,s,r){"use strict";var t=r(3226);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[459,115,364,744],function(){return e(e.s=1651)}),_N_E=e.O()}]);