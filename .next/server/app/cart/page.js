(()=>{var e={};e.id=565,e.ids=[565],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},785:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(1092),t(7763),t(2874);var a=t(7105),r=t(5265),i=t(157),l=t.n(i),n=t(4665),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1092)),"C:\\Users\\farid\\Downloads\\FARID WEBSITE\\GITHUB-UPLOAD\\src\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7763)),"C:\\Users\\farid\\Downloads\\FARID WEBSITE\\GITHUB-UPLOAD\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\farid\\Downloads\\FARID WEBSITE\\GITHUB-UPLOAD\\src\\app\\cart\\page.tsx"],m="/cart/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},353:(e,s,t)=>{Promise.resolve().then(t.bind(t,4344))},4344:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var a=t(9899),r=t(5507),i=t(1287),l=t(700),n=t(446),d=t(1614),o=t(2188),c=t(8776),m=t(433),x=t(3818),u=t(8449);function h({isOpen:e,onClose:s,missingFields:t,errors:r,completionPercentage:i,onGoToProfile:l}){if(!e)return null;let n=e=>e.includes("Name")||e.includes("user_account")?a.jsx(d.Z,{className:"w-4 h-4"}):e.includes("Phone")?a.jsx(o.Z,{className:"w-4 h-4"}):e.includes("Email")?a.jsx(c.Z,{className:"w-4 h-4"}):e.includes("Address")||e.includes("Street")||e.includes("City")||e.includes("State")||e.includes("Postcode")?a.jsx(m.Z,{className:"w-4 h-4"}):a.jsx(x.Z,{className:"w-4 h-4"});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-4 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(x.Z,{className:"w-6 h-6"}),a.jsx("h2",{className:"text-xl font-bold",children:"Profile Required"})]}),a.jsx("button",{onClick:s,className:"p-1 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(u.Z,{className:"w-5 h-5"})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Profile Completion"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[i,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${i<50?"bg-red-500":i<80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${i}%`}})})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Complete Your Profile to Continue"}),a.jsx("p",{className:"text-gray-600",children:"To ensure secure delivery and payment processing, please complete your profile information."})]}),t.length>0&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Missing Information:"}),a.jsx("div",{className:"space-y-2",children:t.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("div",{className:"text-red-600",children:n(e)}),a.jsx("span",{className:"text-sm font-medium text-red-800",children:e})]},s))})]}),r.length>0&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Please Fix:"}),a.jsx("div",{className:"space-y-2",children:r.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx(x.Z,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-yellow-800",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Why complete your profile?"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Faster checkout process"}),a.jsx("li",{children:"• Accurate delivery information"}),a.jsx("li",{children:"• Order status notifications"}),a.jsx("li",{children:"• Better customer support"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex space-x-3",children:[a.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Maybe Later"}),a.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all font-medium shadow-lg",children:"Complete Profile"})]})]})})}var p=t(781),g=t(2082),y=t(1270),j=t(7431),f=t(5465);let b=(0,t(4516).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var N=t(7067),v=t(4672),w=t(4175);function S(){var e;let{user:s,isAuthenticated:t}=(0,p.a)(),{settings:d}=(0,g.h)(),[o,c]=(0,r.useState)([]),[m,x]=(0,r.useState)(null),[u,S]=(0,r.useState)(!1),[k,P]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!1),[A,q]=(0,r.useState)(!0),E=(e,s)=>{if(s<=0){M(e);return}c(t=>t.map(t=>t.id===e?{...t,quantity:s}:t))},M=e=>{c(s=>s.filter(s=>s.id!==e))},O=()=>{c([])},U=()=>o.reduce((e,s)=>e+s.quantity,0),$=()=>o.reduce((e,s)=>e+s.price*s.quantity,0),_=()=>$()>=150?0:o.length>0?10:0,T=()=>$()+_(),B=()=>{if(!t){Z(!0);return}if(!(0,y.me)(s).isComplete){I(!0);return}P(!0)};return A?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(i.Z,{}),a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(i.Z,{}),a.jsx(l.Z,{}),m&&a.jsx(n.Z,{isOpen:u,onClose:()=>S(!1),productName:`${m.name} ${m.quantity>1?`(${m.quantity}x)`:""}`,productImage:m.image,productBrand:m.brand||"Unknown",productSize:m.size||"One Size",productColor:m.color||"Default",productId:m.id,amount:(e=m).price*e.quantity+($()>=150?0:10),orderId:`cart-${m.id}-${Date.now()}`,onPaymentSuccess:()=>{if(m){M(m.id),x(null);let e=JSON.parse(localStorage.getItem("adminProducts")||"[]").map(e=>e.id===m.id?{...e,isSoldOut:!0,inStock:!1,soldAt:new Date().toISOString(),soldTo:s?.id}:e);localStorage.setItem("adminProducts",JSON.stringify(e)),window.dispatchEvent(new Event("productUpdated")),console.log("\uD83D\uDED2 Item removed from cart and marked as sold:",m.name)}}}),o.length>0&&a.jsx(n.Z,{isOpen:k,onClose:()=>P(!1),productName:`Cart Order (${o.length} items)`,productImage:o[0]?.image||"",productBrand:"Multiple Items",productSize:"Varies",productColor:"Varies",productId:`bulk-${Date.now()}`,amount:T(),orderId:`bulk-${Date.now()}`,items:o.map(e=>({productId:e.id,productName:e.name,productImage:e.image,productBrand:e.brand,productSize:e.size,productColor:e.color,quantity:e.quantity,price:e.price})),onPaymentSuccess:()=>{let e=JSON.parse(localStorage.getItem("adminProducts")||"[]"),t=o.map(e=>e.id),a=e.map(e=>t.includes(e.id)?{...e,isSoldOut:!0,inStock:!1,soldAt:new Date().toISOString(),soldTo:s?.id}:e);localStorage.setItem("adminProducts",JSON.stringify(a)),O(),window.dispatchEvent(new Event("productUpdated")),window.dispatchEvent(new Event("cartUpdated")),console.log("\uD83D\uDED2 Bulk payment successful - all items sold and cart cleared")}}),D&&s&&a.jsx(h,{isOpen:D,onClose:()=>I(!1),missingFields:(0,y.me)(s).missingFields,errors:[],completionPercentage:85,onGoToProfile:()=>{I(!1),window.location.href="/profile"}}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("button",{onClick:()=>window.history.back(),className:"p-2 rounded-lg hover:bg-white transition-colors",children:a.jsx(j.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[U()," item",1!==U()?"s":""," in your cart"]})]})]}),0===o.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-sm",children:[a.jsx(f.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart"}),a.jsx(w.default,{href:"/shop",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[o.map(e=>a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-20 h-20 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-600",children:[d.currency,e.price.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>E(e.id,e.quantity-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(b,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-12 text-center font-semibold",children:e.quantity}),a.jsx("button",{onClick:()=>E(e.id,e.quantity+1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(N.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold text-lg text-gray-900",children:[d.currency,(e.price*e.quantity).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[d.currency,e.price," \xd7 ",e.quantity]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>M(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Remove from cart",children:a.jsx(v.Z,{className:"h-4 w-4"})})})]})},e.id)),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Cart Summary"}),a.jsx("button",{onClick:O,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Clear Cart"})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Items:"}),a.jsx("span",{className:"font-medium",children:U()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"font-medium",children:[d.currency,$().toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping (Flat rate):"}),a.jsx("span",{className:"font-medium",children:0===_()?a.jsx("span",{className:"text-red-500 line-through decoration-2",children:"RM10"}):`${d.currency}${_()}`})]}),$()>=150&&0===_()&&(0,a.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["\uD83C\uDF89 Shipping fee waived! You saved ",a.jsx("span",{className:"text-red-500 line-through",children:"RM10"})]}),a.jsx("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Final Total:"}),(0,a.jsxs)("span",{className:"text-blue-600",children:[d.currency,T().toLocaleString()]})]})]}),o.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("button",{onClick:()=>B(),className:"w-full bg-gradient-to-r from-gray-900 to-black text-white py-3 rounded-xl font-semibold hover:from-black hover:to-gray-800 transition-all shadow-lg border border-gray-800",children:"Checkout"})}),a.jsx("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["\uD83D\uDCA1 ",a.jsx("strong",{children:"Shipping Info:"})," RM10 flat rate shipping per order.",$()>=150?(0,a.jsxs)("span",{className:"text-green-600 font-medium",children:[" Shipping fee waived! ",a.jsx("span",{className:"text-red-500 line-through",children:"RM10"})]}):(0,a.jsxs)("span",{children:[" Add RM",(150-$()).toLocaleString()," more to waive shipping fee!"]})]})})]})]})]})]})}},1270:(e,s,t)=>{"use strict";t.d(s,{UO:()=>i,me:()=>l,oH:()=>r,tU:()=>a});let a=e=>{let s=e.replace(/[\s\-\(\)]/g,"");return[/^\+60[1-9]\d{7,8}$/,/^60[1-9]\d{7,8}$/,/^0[1-9]\d{7,8}$/,/^[1-9]\d{7,8}$/].some(e=>e.test(s))},r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),i=e=>/^\d{5}$/.test(e),l=e=>{let s=[],t=[];return e?(e.fullName&&""!==e.fullName.trim()||s.push("Full Name"),e.email&&""!==e.email.trim()?r(e.email)||t.push("Please provide a valid email address"):s.push("Email Address"),e.phone&&""!==e.phone.trim()?a(e.phone)||t.push("Please provide a valid Malaysian phone number (e.g., +60123456789 or 0123456789)"):s.push("Phone Number"),e.address?(e.address.street&&""!==e.address.street.trim()||s.push("Street Address"),e.address.city&&""!==e.address.city.trim()||s.push("City"),e.address.state&&""!==e.address.state.trim()||s.push("State"),e.address.postcode&&""!==e.address.postcode.trim()?i(e.address.postcode)||t.push("Please provide a valid 5-digit Malaysian postcode"):s.push("Postcode")):s.push("Complete Address"),{isComplete:0===s.length&&0===t.length,missingFields:s,errors:t}):{isComplete:!1,missingFields:["user_account"],errors:["Please login to continue with checkout"]}}},1761:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},8514:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2583:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8776:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},433:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2188:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(4516).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1092:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(2772).createProxy)(String.raw`C:\Users\farid\Downloads\FARID WEBSITE\GITHUB-UPLOAD\src\app\cart\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[942,105,539,746,287,700,145],()=>t(785));module.exports=a})();